#!/bin/bash

if [[ "$#" == "0" ]] || [[ "$1" == "-h" ]]; then
  echo "Usage: hubpip install package1 package2 ..."
  echo "This just calls \`pip install --prefix=$ADMIN_HOME_DIR/python_lib package1 package2 ...\` in case you need to do anything fancy."
  exit 1
fi

echo -e "\e[32mhubpip: Running \`pip $1 --prefix=$ADMIN_HOME_DIR/python_lib ${@:2}\` ...\e[0m\n"
pip $1 --prefix=$ADMIN_HOME_DIR/python_libs ${@:2}

echo -e "\e[32mhubpip: Fixing permissions ...\e[0m\n"
chown -R dsadmin:dsadmins $ADMIN_HOME_DIR/python_libs

chmod -R 774 $ADMIN_HOME_DIR/python_libs
echo -e "\e[32mhubpip: Done. Enjoy your package!\e[0m\n"
